{% extends "base.html" %}
{% block tittle %} Крепкий Фундамент {% endblock %}

{% block content %}
<section id="projects" class="py-5 bg-light">
  <div class="container text-center">
    <h2 class="fw-bold mb-3 display-5" style="font-family: 'Oswald', sans-serif; letter-spacing: 1px;">
      Наши проекты
    </h2>
    <p class="text-secondary mb-5 mx-auto" style="max-width: 750px; font-size: 1.05rem; color: #6c757d;">
      В стоимость каждого проекта входит полностью готовая чистовая отделка,
      отделка санузла, тёплые полы, сантехника, все инженерные системы и коммуникации.
    </p>

    <div class="row g-4">

      {% for house in houses %}
      <div class="col-md-6 col-lg-4">
        <a href="{{ url_for('main.details', id=house.id) }}" class="text-decoration-none text-reset">
          <div class="card project-card border-0 shadow-sm h-100 overflow-hidden">
            <div class="project-image-wrapper">
              <img src="../static/images/house.png" class="card-img-top" alt="Проект дома {{ house.title }}">
            </div>

            <div class="card-body text-start p-4">
              <h5 class="card-title fw-semibold mb-3" style="font-family: 'Oswald', sans-serif; color: #2d2d2d;">
                {{ house.title }}
              </h5>

              <table class="table table-borderless text-secondary small mb-0 compact-table">
                <tbody>
                    <tr>
                        <th scope="row">Тёплый контур:</th>
                        <td class="text-end text-dark fw-normal">{{ house.price_base | money }} &#8381;</td>
                    </tr>
                    <tr>
                        <th scope="row">С коммуникациями:</th>
                        <td class="text-end text-dark fw-normal">{{ house.price_with_communications | money }} &#8381;</td>
                    </tr>
                    <tr>
                        <th scope="row">Заезжай и живи:</th>
                        <td class="text-end text-dark fw-normal">{{ house.price_ready | money }} &#8381;</td>
                    </tr>
                    <tr class="border-top">
                        <th scope="row" class="pt-2">Ипотека от:</th>
                        <td class="text-end fw-semibold pt-2">{{ house.mortgage_price_per_month | money }} &#8381;/мес</td>
                    </tr>
                </tbody>
              </table>

            </div>
          </div>
        </a>
      </div>
      {% endfor %}

    </div>
  </div>
</section>

<style>
  /* Карточка проекта */
  .project-card {
    border-radius: 1rem;
    transition: transform 0.35s ease, box-shadow 0.35s ease;
    background-color: #fff;
  }

  .project-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
  }

  /* Кликабельность */
  .project-card:hover img {
    transform: scale(1.05);
    transition: transform 0.5s ease;
  }

  .project-image-wrapper {
    overflow: hidden;
  }

  /* Мягкий текст */
  .project-card th {
    font-weight: 400;
    color: #7a7a7a;
  }
  .project-card td {
    color: #555;
  }

  /* Уплотнённая таблица */
  .compact-table th,
  .compact-table td {
    padding: 0.25rem 0;
    line-height: 1.2;
  }

  /* Эффект наведения */
  a.text-reset:hover .project-card {
    box-shadow: 0 10px 28px rgba(0, 0, 0, 0.1);
  }

  a.text-reset {
    display: block;
  }
</style>


{% endblock%}