{% extends "base.html" %}

{% block title %}–î–æ–º "–°–æ–ª–Ω–µ—á–Ω—ã–π" - –ö—Ä–µ–ø–∫–∏–π –§—É–Ω–¥–∞–º–µ–Ω—Ç{% endblock %}

{% block hero %} {% endblock %}

{% block features %} {% endblock %}

{% block content %}

<!-- üîπ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ -->
<section class="py-5">
  <div class="container">
    <div class="row g-4 align-items-start">

      <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç -->
      <div class="col-lg-8">
        <h1 class="fw-bold mb-3" style="font-family: 'Oswald', sans-serif;">{{ house.title }}</h1>
        <p class="text-secondary fs-6 mb-4">
            {{ house.description }}
        </p>

        <h5 class="fw-semibold mt-4 mb-3">–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å:</h5>
        <ul class="text-secondary">
          <li>–ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞—è —á–∏—Å—Ç–æ–≤–∞—è –æ—Ç–¥–µ–ª–∫–∞;</li>
          <li>–¢—ë–ø–ª—ã–µ –ø–æ–ª—ã –ø–æ –≤—Å–µ–º—É –¥–æ–º—É;</li>
          <li>–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞ –∏ —ç–ª–µ–∫—Ç—Ä–∏–∫–∞ –ø–æ–¥ –∫–ª—é—á;</li>
          <li>–û—Ç–¥–µ–ª–∫–∞ —Å–∞–Ω—É–∑–ª–∞ –∏ –∫–æ—Ç–µ–ª—å–Ω–æ–π;</li>
          <li>–í—Å–µ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏.</li>
        </ul>


        <div class="mt-4">
          <a href="tel:+79173755545" class="btn btn-primary btn-lg">
            üìû –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é
          </a>
        </div>
      </div>

      <!-- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
      <div class="col-lg-4">
        <div class="card border-0 shadow-sm p-4">
          <h5 class="fw-bold mb-3" style="font-family: 'Oswald', sans-serif;">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</h5>
          <table class="table table-borderless text-secondary small mb-0">
            <tbody>
                <tr>
                    <th scope="row">–ü–ª–æ—â–∞–¥—å:</th>
                    <td>{{ house.square }} –º¬≤</td>
                </tr>
                <tr>
                    <th scope="row">–†–∞–π–æ–Ω:</th>
                    <td>{{ house.area }}</td>
                </tr>
                <tr>
                    <th scope="row">–ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞:</th>
                    <td>{{ house.price_base | money }} ‚ÇΩ</td>
                </tr>
                <tr>
                    <th scope="row">–° –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–º–∏:</th>
                    <td>{{ house.price_with_communications | money }} ‚ÇΩ</td>
                </tr>
                <tr>
                    <th scope="row">–¶–µ–Ω–∞ –≥–æ—Ç–æ–≤–æ–≥–æ –¥–æ–º–∞:</th>
                    <td>{{ house.price_ready | money }} ‚ÇΩ</td>
                </tr>
                <tr>
                    <th scope="row">–ò–ø–æ—Ç–µ–∫–∞ (–≤ –º–µ—Å—è—Ü):</th>
                    <td>{{ house.mortgage_price_per_month | money }} ‚ÇΩ</td>
                </tr>
            </tbody>


          </table>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- üîπ –ì–∞–ª–µ—Ä–µ—è –ø—Ä–æ–µ–∫—Ç–∞ -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="card border-0 shadow p-3">
      <div class="text-center mb-3">
        <img id="mainImage" src="../static/houses_images/house_1/1.webp" class="gallery-main img-fluid" alt="–ì–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
      </div>

      <div class="gallery-thumbs">
        <img src="../static/houses_images/house_1/1.webp" class="gallery-thumb active" onclick="changeImage(this)">
        <img src="../static/houses_images/house_1/2.webp" class="gallery-thumb" onclick="changeImage(this)">
        <img src="../static/houses_images/house_1/3.webp" class="gallery-thumb" onclick="changeImage(this)">
        <img src="../static/houses_images/house_1/3.webp" class="gallery-thumb" onclick="changeImage(this)">

      </div>
    </div>
  </div>

<style>
    .gallery-main {
  width: 100%;
  height: 60vh;
  object-fit: cover;
  border-radius: 12px;
  transition: opacity 0.3s ease;
}

@media (max-width: 768px) {
  .gallery-main {
    height: auto;
    max-height: 70vh;
    object-fit: contain;
    background-color: #000;
  }
}


    .gallery-thumbs {
      overflow-x: auto;
      white-space: nowrap;
      padding: 10px 0;
      display: flex;
      gap: 10px;
    }

    .gallery-thumb {
      flex: 0 0 auto;
      width: 120px;
      height: 80px;
      object-fit: cover;
      cursor: pointer;
      border-radius: 8px;
      opacity: 0.85;
      transition: transform 0.2s ease, opacity 0.2s ease;
    }

    .gallery-thumb:hover,
    .gallery-thumb.active {
      opacity: 1;
      transform: scale(1.05);
      border: 2px solid #0d6efd;
    }

    /* –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
    .gallery-thumbs::-webkit-scrollbar {
      height: 6px;
    }
    .gallery-thumbs::-webkit-scrollbar-thumb {
      background-color: #ccc;
      border-radius: 3px;
    }

    @media (max-width: 576px) {
      .gallery-thumb {
        width: 90px;
        height: 60px;
      }
    }
  </style>

<script>
    function changeImage(el) {
      const main = document.getElementById('mainImage');
      main.style.opacity = 0;
      setTimeout(() => {
        main.src = el.src.replace('/300/200', '/1000/600');
        main.style.opacity = 1;
      }, 200);

      document.querySelectorAll('.gallery-thumb').forEach(img => img.classList.remove('active'));
      el.classList.add('active');
    }
  </script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</section>



{% endblock %}

{% block scripts %}
{{ super() }}
<!-- <script>
  const mainImage = document.getElementById('mainImage');
  const thumbs = document.querySelectorAll('.thumb-img');
  const modalCarouselInner = document.getElementById('modalCarouselInner');

  // –°–º–µ–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –±–ª–æ–∫–µ
  function changeImage(element) {
    mainImage.src = element.src;
    thumbs.forEach(img => img.classList.remove('active'));
    element.classList.add('active');
  }

  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–∞–π–¥–æ–≤
  const imageSources = Array.from(thumbs).map(img => img.src);
  modalCarouselInner.innerHTML = ''; // –æ—á–∏—â–∞–µ–º, –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –∑–∞–Ω–æ–≤–æ
  imageSources.forEach((src, index) => {
    const div = document.createElement('div');
    div.classList.add('carousel-item');
    if (index === 0) div.classList.add('active');
    div.innerHTML = `
      <div class="d-flex justify-content-center align-items-center" style="height:100vh;">
        <img src="${src}" class="d-block modal-img" alt="–§–æ—Ç–æ ${index + 1}">
      </div>`;
    modalCarouselInner.appendChild(div);
  });

  // –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏ ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å–ª–∞–π–¥
  mainImage.addEventListener('click', () => {
    const carousel = bootstrap.Carousel.getOrCreateInstance('#modalCarousel');
    const currentIndex = imageSources.indexOf(mainImage.src);
    carousel.to(currentIndex);
  });
</script> -->
{% endblock %}